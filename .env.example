# Application Configuration
PORT=3000
NODE_ENV=development
LOG_LEVEL=info

# Database Configuration
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/nestjs_boilerplate
DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_NAME=nestjs_boilerplate
DATABASE_USER=postgres
DATABASE_PASSWORD=postgres

# CORS Configuration (comma-separated list of allowed origins)
# Leave empty or set to * for development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Security Configuration
# Rate limiting: requests per minute
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100


# Storage Module Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# STORAGE PROVIDER SELECTION
# =============================================================================

# Primary storage provider (s3, supabase, gcs, minio)
STORAGE_PROVIDER=s3

# Enable/disable specific providers
STORAGE_ENABLE_S3=true
STORAGE_ENABLE_SUPABASE=true
STORAGE_ENABLE_GCS=true
STORAGE_ENABLE_MINIO=true

# =============================================================================
# AWS S3 CONFIGURATION
# =============================================================================

# AWS credentials
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1

# S3 bucket configuration
STORAGE_S3_BUCKET_NAME=your-s3-bucket-name
STORAGE_S3_FORCE_PATH_STYLE=false

# Optional: Custom S3 endpoint (for MinIO compatibility)
# STORAGE_S3_ENDPOINT=http://localhost:9000

# =============================================================================
# SUPABASE STORAGE CONFIGURATION
# =============================================================================

# Supabase project configuration
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key

# Supabase storage bucket
STORAGE_SUPABASE_BUCKET_NAME=your-supabase-bucket-name

# =============================================================================
# GOOGLE CLOUD STORAGE CONFIGURATION
# =============================================================================

# Google Cloud credentials
GOOGLE_CLOUD_PROJECT_ID=your-gcp-project-id
GOOGLE_CLOUD_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYour private key here\n-----END PRIVATE KEY-----\n"
GOOGLE_CLOUD_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com

# GCS bucket configuration
STORAGE_GCS_BUCKET_NAME=your-gcs-bucket-name
STORAGE_GCS_REGION=us-central1

# =============================================================================
# MINIO CONFIGURATION
# =============================================================================

# MinIO server configuration
MINIO_ENDPOINT=localhost
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_USE_SSL=false

# MinIO bucket configuration
STORAGE_MINIO_BUCKET_NAME=your-minio-bucket-name
STORAGE_MINIO_REGION=us-east-1

# =============================================================================
# GENERAL STORAGE CONFIGURATION
# =============================================================================

# Maximum file size (in bytes) - 100MB default
STORAGE_MAX_FILE_SIZE=104857600

# Health check interval (in milliseconds) - 30 seconds default
STORAGE_HEALTH_CHECK_INTERVAL_MS=30000

# Supported file formats (comma-separated)
STORAGE_SUPPORTED_FORMATS=jpeg,png,gif,webp,svg,pdf,txt,json,xml,html,css,js

# Allowed MIME types (comma-separated)
STORAGE_ALLOWED_MIME_TYPES=image/jpeg,image/png,image/gif,image/webp,image/svg+xml,application/pdf,text/plain,application/json,application/xml,text/html,text/css,application/javascript

# =============================================================================
# FILE PROCESSING CONFIGURATION
# =============================================================================

# Image processing settings
STORAGE_IMAGE_MAX_WIDTH=4096
STORAGE_IMAGE_MAX_HEIGHT=4096
STORAGE_IMAGE_QUALITY=85
STORAGE_IMAGE_FORMAT=webp

# Compression settings
STORAGE_COMPRESSION_ENABLED=true
STORAGE_COMPRESSION_QUALITY=80

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# File access control
STORAGE_DEFAULT_PUBLIC=false
STORAGE_PRESIGNED_URL_EXPIRY=3600

# CORS settings
STORAGE_CORS_ENABLED=true
STORAGE_CORS_ORIGINS=*

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Enable detailed logging
STORAGE_DEBUG_LOGGING=false

# Metrics collection
STORAGE_METRICS_ENABLED=true

# Performance monitoring
STORAGE_PERFORMANCE_MONITORING=true

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development mode (enables additional logging and validation)
STORAGE_DEV_MODE=false

# Test bucket prefix
STORAGE_TEST_BUCKET_PREFIX=test-

# Mock storage for testing
STORAGE_MOCK_ENABLED=false 